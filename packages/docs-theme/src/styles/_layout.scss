// Copyright 2017 Palantir Technologies, Inc. All rights reserved.
// Licensed under the terms of the LICENSE file distributed with this project.

@import "variables";
@import "../../../core/src/components/forms/common";

$nav-item-padding: $pt-grid-size;
$nav-item-indent: $pt-grid-size * 2;
$nav-item-icon-size: $pt-grid-size * 2.4;
$nav-item-icon-margin: $pt-grid-size;

$nav-item-color-hover: $minimal-button-background-color-hover;
$nav-item-color-active: $minimal-button-background-color-active;
$dark-nav-item-color-hover: $dark-minimal-button-background-color-hover;
$dark-nav-item-color-active: $dark-minimal-button-background-color-active;

$navbar-box-shadow: 0 1px 0 $pt-divider-black;
$dark-navbar-box-shadow: 0 1px 0 $pt-dark-divider-black;

$logo-width: $pt-grid-size * 6.5;

/*
Flex utils
*/

.docs-flex-row {
  display: flex;
  flex-direction: row;
}

.docs-flex-column {
  display: flex;
  flex-direction: column;
}

/*
Page layout elements
*/

.docs-root {
  background-color: $content-background-color;

  // usually this element is _way_ longer than the viewport, but sometimes it isn't.
  // this ensures that it'll always at least fill the viewport so white page doesn't show through.
  min-height: 100vh;

  &.pt-dark {
    background-color: $dark-content-background-color;
  }
}

.docs-app {
  // center container in window
  margin: auto;
  width: $container-width;
}

.docs-content {
  // leave space for nav menu on the left (position: fixed)
  margin-left: $sidebar-width;
  // 1px top padding fixes removes extra top spacing
  padding: 1px 0 $content-padding $content-padding * 2;
}

.docs-nav {
  position: fixed;
  top: 0;
  bottom: 0;
  // box-shadow: 1px 0 0 $pt-divider-black;
  width: $sidebar-width;
  overflow: auto;
  padding: $sidebar-padding 0;

  .docs-navigator {
    margin-bottom: $pt-grid-size * 2;
    width: 100%;
    padding: 0 $pt-grid-size / 2;
  }

  .pt-button-group {
    margin-bottom: $pt-grid-size * 2;
  }
}

.docs-nav-title {
  @include pt-flex-container(row);
  flex-wrap: wrap;
  align-items: center;
}

/*
Lefthand navigation menu
*/

// nested menus are hidden by default
.docs-nav-menu .docs-nav-menu {
  display: none;
}

.docs-nav-expanded > .docs-nav-menu {
  display: block;
}

.docs-nav-expand-all .docs-nav-menu {
  // sometimes you need to show all the sections
  display: block !important; // stylelint-disable-line declaration-no-important
}

// empty state item is hidden by default...
.docs-empty-state {
  display: none;
}

// ...and appears when the actual menu is empty
.docs-nav-menu:empty + .docs-empty-state {
  display: block;
}

.docs-menu-item {
  .pt-menu-item {
    padding-right: $nav-item-padding;
    padding-left: $nav-item-padding;
    white-space: initial;

    &:hover,
    &.pt-active {
      background-color: transparent !important; // stylelint-disable declaration-no-important
      font-weight: 600;
    }
  }

  // stylelint-disable max-nesting-depth
  &.depth-1 {
    > .pt-menu-item {
      // padding-left: $nav-item-padding + $nav-item-indent;
      display: flex;
      align-items: center;
      text-transform: uppercase;
      font-weight: 600;

      .docs-menu-item-icon {
        display: inline-block;
        margin-right: $nav-item-icon-margin;
        border-radius: $nav-item-icon-size / 3;
        // box-shadow: inset 0 0 0 1px rgba($black, 0.2);
        background-repeat: no-repeat;
        background-position: center;
        width: $nav-item-icon-size;
        height: $nav-item-icon-size;
      }

      &.pt-active {
        color: inherit;
      }
    }
  }
  // stylelint-enable max-nesting-depth

  @each $depth in (2, 3, 4, 5, 6) {
    &.depth-#{$depth} > .pt-menu-item {
      padding-left: $nav-item-padding +
        $nav-item-indent * ($depth - 2) + ($nav-item-icon-size + $nav-item-icon-margin);
    }
  }
}

// hides all documentation content, to focus on live examples
// trigger this behavior by adding ?examples to URL immediately after the path (before #route):
// http://blueprintjs.com/docs/?examples
.docs-examples-only {
  .docs-markup,
  .docs-modifiers,
  .docs-section {
    display: none;
  }
}
